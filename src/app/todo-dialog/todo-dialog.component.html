<div class="dialog-container">

  <section class="title-section">
    <mat-icon color="primary">{{ isEditMode() ? 'update' : 'add' }}</mat-icon>
    <h2 mat-dialog-title>{{ isEditMode() ? 'Edit Task' : 'Add Task' }}</h2>
  </section>

  <mat-dialog-content>

    <form [formGroup]="todoForm">
      <mat-form-field>
        <mat-label>Title</mat-label>
        <input
          formControlName="title"
          matInput
          placeholder="Ex. Watch my cats.">
        <mat-hint align="end">{{ todoForm.controls.title.value?.length }}/20</mat-hint>

        @if (todoForm.controls.title.hasError('required')) {
          <mat-error>Title is required</mat-error>
        }

        @if (todoForm.controls.title.hasError('maxlength')) {
          <mat-error>Title length should be shorter than 20</mat-error>
        }

      </mat-form-field>

      <!--      Description-->
      <mat-form-field>
        <mat-label>Description</mat-label>
        <textarea
          formControlName="description"
          matInput
          placeholder="Ex. Little description"></textarea>

        <mat-hint align="end">{{ todoForm.controls.description.value?.length }}/50</mat-hint>

        @if (todoForm.controls.description.hasError('maxlength')) {
          <mat-error>Title length should be shorter than 50</mat-error>
        }
      </mat-form-field>
    </form>

  </mat-dialog-content>
</div>

<mat-dialog-actions>
  <button
    (click)="onSave()"
    [disabled]="todoForm.invalid"
    color="primary" mat-dialog-close mat-flat-button>
      {{ isEditMode() ? 'UPDATE' : 'CREATE'}}
  </button>

  <button mat-button mat-dialog-close>CLOSE</button>
</mat-dialog-actions>
